---
import Layout from "../ui/layouts/Layout.astro";
import { getCollection } from "astro:content";

const learn = await getCollection("learn");
const careers = await getCollection("careers");
const money = await getCollection("money");
const rights = await getCollection("rights");
const tools = await getCollection("tools");
const blog = await getCollection("blog");

const allArticles = [...learn, ...careers, ...money, ...rights, ...tools, ...blog]
  .sort((a, b) => {
    const dateA = (a.data.publishDate ?? a.data.pubDate)?.valueOf() ?? 0;
    const dateB = (b.data.publishDate ?? b.data.pubDate)?.valueOf() ?? 0;
    return dateB - dateA;
  })
  .slice(0, 6);

const categories = [
  { href: "/careers/", icon: "ğŸ§­", title: "Careers", count: "63 Guides" },
  { href: "/learn/", icon: "ğŸ“š", title: "Learn", count: "51 Articles" },
  { href: "/money/", icon: "ğŸ’°", title: "Money", count: "25 Resources" },
  { href: "/rights/", icon: "âš–ï¸", title: "Rights", count: "20 Guides" },
  { href: "/tools/", icon: "ğŸ”§", title: "Tools", count: "15 Tools" },
  { href: "/sailorgpt/", icon: "ğŸ¤–", title: "SailorGPT", count: "AI Mentor" },
];
---
<Layout title="Sailor Success - India's Complete Merchant Navy Knowledge Base 2026" description="Free, practical knowledge from 120+ years of collective maritime experience. Career guides, salary info, rights, and AI mentor for Indian seafarers.">

  <!-- Hero -->
  <section class="hero">
    <div class="hero-badge">âš“ Trusted by 10,000+ Indian Seafarers</div>
    <h1>India's Complete Merchant Navy <span class="accent">Encyclopedia</span></h1>
    <p class="hero-text">Free, practical knowledge from 120+ years of collective maritime experience. Real guides, honest answers, and your 24/7 AI career mentor. No coaching mafia. No fake promises.</p>
  </section>

  <!-- SailorGPT CTA -->
  <div class="primary-cta">
    <div class="cta-header">
      <div class="cta-icon">ğŸ¤–</div>
      <h2>Got Questions? Ask SailorGPT</h2>
    </div>
    <p class="cta-desc">India's first AI mentor built for seafarers. Career advice, exam prep, company insights, financial planning â€” instant answers backed by real ship experience.</p>
    <div class="cta-actions">
      <a href="https://sailorsuccess.graphy.com/t/p/checkout/V4/avatar/68e5d00cca4dc933ce6ebf6f/p8?callback_url=/t/u/ai/avatar" class="btn-primary-lg" target="_blank" rel="noopener">ğŸ¤– Chat with SailorGPT</a>
      <a href="https://wa.me/919958110235?text=Hi%20Chief%2C%20I%20need%20guidance" class="btn-secondary-lg" target="_blank" rel="noopener">ğŸ’¬ Talk to Chief</a>
    </div>
  </div>

  <!-- Latest Guides -->
  <div class="section-head">
    <h2>Latest Guides</h2>
    <p>Fresh content to help you navigate your maritime career</p>
  </div>
  <div class="articles-grid">
    {allArticles.map(article => (
      <a href={`/${article.collection}/${article.slug}/`} class="article-card">
        <span class="article-tag">{article.data.category ?? article.collection}</span>
        <h3>{article.data.title}</h3>
        <p>{article.data.description}</p>
      </a>
    ))}
  </div>

  <!-- Explore by Topic -->
  <div class="section-head">
    <h2>Explore by Topic</h2>
    <p>Everything organized so you can actually find it</p>
  </div>
  <div class="categories-grid">
    {categories.map(cat => (
      <a href={cat.href} class="category-card">
        <span class="icon">{cat.icon}</span>
        <h3>{cat.title}</h3>
        <span class="count">{cat.count}</span>
      </a>
    ))}
  </div>

  <!-- Trust Bar -->
  <div class="trust-bar">
    <div class="trust-item"><span class="emoji">ğŸš«</span><div><h4>No Coaching Mafia</h4><p>Free info that institutes charge lakhs for.</p></div></div>
    <div class="trust-item"><span class="emoji">ğŸš¢</span><div><h4>Real Ship Experience</h4><p>120+ years combined sea time.</p></div></div>
    <div class="trust-item"><span class="emoji">ğŸ‡®ğŸ‡³</span><div><h4>India-Focused</h4><p>DG Shipping, Indian institutes, NRE.</p></div></div>
    <div class="trust-item"><span class="emoji">ğŸ’¬</span><div><h4>Honest Answers</h4><p>No fake motivation. Just truth.</p></div></div>
  </div>

</Layout>
