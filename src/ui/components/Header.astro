---
const currentPath = Astro.url.pathname;
---
<header class="site-header">
  <nav class="container">
    <a href="/" class="logo" aria-label="Sailor Success Home">
      <img src="https://sailorsuccess.online/images/logo.png" alt="Sailor Success - Empowering Seafarers" class="logo-img" width="180" height="48" />
    </a>
    <ul class="nav-links" role="list">
      <li><a href="/learn/" class={`nav-link ${currentPath.startsWith("/learn") ? "active" : ""}`}>Learn</a></li>
      <li><a href="/careers/" class={`nav-link ${currentPath.startsWith("/careers") ? "active" : ""}`}>Careers</a></li>
      <li><a href="/money/" class={`nav-link ${currentPath.startsWith("/money") ? "active" : ""}`}>Money</a></li>
      <li><a href="/rights/" class={`nav-link ${currentPath.startsWith("/rights") ? "active" : ""}`}>Rights</a></li>
      <li><a href="/tools/" class={`nav-link ${currentPath.startsWith("/tools") ? "active" : ""}`}>Tools</a></li>
      <li>
        <a href="https://sailorsuccess.graphy.com/talk/mentor" class="nav-cta" target="_blank" rel="noopener">
          ğŸ¤– SailorGPT
        </a>
      </li>
    </ul>
    <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Open menu" aria-expanded="false">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
  </nav>
</header>
<div class="mobile-menu" id="mobileMenu" role="dialog" aria-modal="true" aria-label="Navigation menu">
  <button class="mobile-menu-close" id="mobileMenuClose" aria-label="Close menu">&times;</button>
  <ul class="mobile-nav-links" role="list">
    <li><a href="/learn/" class="mobile-nav-link">ğŸ“š Learn</a></li>
    <li><a href="/careers/" class="mobile-nav-link">ğŸ§­ Careers</a></li>
    <li><a href="/money/" class="mobile-nav-link">ğŸ’° Money</a></li>
    <li><a href="/rights/" class="mobile-nav-link">âš–ï¸ Rights</a></li>
    <li><a href="/tools/" class="mobile-nav-link">ğŸ”§ Tools</a></li>
  </ul>
  <div class="mobile-cta-group">
    <a href="https://sailorsuccess.graphy.com/talk/mentor" class="mobile-cta-btn mobile-cta-gpt" target="_blank" rel="noopener">ğŸ¤– Ask SailorGPT Free</a>
    <a href="https://wa.me/919958110235?text=Hi%20Chief%2C%20I%20need%20guidance" class="mobile-cta-btn mobile-cta-chief" target="_blank" rel="noopener">ğŸ’¬ Talk to Chief</a>
  </div>
</div>
<div class="mobile-menu-backdrop" id="mobileMenuBackdrop"></div>
<script>
  const menuBtn = document.getElementById("mobileMenuBtn");
  const menu = document.getElementById("mobileMenu");
  const closeBtn = document.getElementById("mobileMenuClose");
  const backdrop = document.getElementById("mobileMenuBackdrop");
  function openMenu() {
    menu?.classList.add("open");
    backdrop?.classList.add("open");
    menuBtn?.setAttribute("aria-expanded", "true");
    document.body.style.overflow = "hidden";
  }
  function closeMenu() {
    menu?.classList.remove("open");
    backdrop?.classList.remove("open");
    menuBtn?.setAttribute("aria-expanded", "false");
    document.body.style.overflow = "";
  }
  menuBtn?.addEventListener("click", openMenu);
  closeBtn?.addEventListener("click", closeMenu);
  backdrop?.addEventListener("click", closeMenu);
  document.addEventListener("keydown", (e) => { if (e.key === "Escape") closeMenu(); });
  document.querySelectorAll(".mobile-nav-link, .mobile-cta-btn").forEach(l => l.addEventListener("click", closeMenu));
</script>
